<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visualization Test</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #1a1a1a;
            color: white;
            margin: 20px;
        }
        .visualization-container {
            background: #2a2a2a;
            border: 1px solid #444;
            border-radius: 8px;
            margin: 20px 0;
            overflow: hidden;
        }
        .card-header {
            padding: 16px;
            border-bottom: 1px solid #444;
            background: #333;
        }
        .card-header h3 {
            margin: 0;
            color: white;
        }
        .visualization-content {
            width: 100%;
            height: 400px;
            background: #1a1a1a;
        }
    </style>
</head>
<body>
    <h1>Visualization Components Test</h1>
    
    <!-- Consensus Graph Test -->
    <div class="visualization-container">
        <div class="card-header">
            <h3>ðŸ“ˆ Consensus Graph Test</h3>
        </div>
        <div class="visualization-content" id="consensus-graph"></div>
    </div>

    <!-- Response Cluster Map Test -->
    <div class="visualization-container">
        <div class="card-header">
            <h3>ðŸŽ¯ Response Cluster Map Test</h3>
        </div>
        <div class="visualization-content" id="cluster-map"></div>
    </div>

    <!-- Sentiment Timeline Test -->
    <div class="visualization-container">
        <div class="card-header">
            <h3>ðŸ“Š Sentiment Timeline Test</h3>
        </div>
        <div class="visualization-content" id="sentiment-timeline"></div>
    </div>

    <script>
        // Test Consensus Graph
        const consensusData = [{
            x: ['Importance of Community Engagement', 'Challenges of Community Engagement'],
            y: [0.9, 0.8],
            text: ['2 responses', '2 responses'],
            type: 'bar',
            marker: { color: '#4a90e2' },
        }];

        const consensusLayout = {
            autosize: true,
            margin: { l: 50, r: 50, t: 50, b: 100 },
            title: 'Agreement by Cluster',
            xaxis: { title: 'Cluster', tickfont: { color: '#FFFFFF' }, titlefont: { color: '#FFFFFF' } },
            yaxis: { title: 'Agreement Score', range: [0, 1], tickfont: { color: '#FFFFFF' }, titlefont: { color: '#FFFFFF' } },
            paper_bgcolor: 'transparent',
            plot_bgcolor: 'transparent',
            font: { color: '#FFFFFF' },
            titlefont: { color: '#FFFFFF' }
        };

        Plotly.newPlot('consensus-graph', consensusData, consensusLayout, {
            responsive: true,
            displayModeBar: false
        });

        // Test Cluster Map
        const clusterData = [{
            x: [0.5, -0.5],
            y: [0.0, 0.0],
            text: ['Test response 1', 'Test response 2'],
            mode: 'markers',
            type: 'scatter',
            name: 'Cluster 1',
            marker: { size: 12, color: '#ff6b6b' },
            hoverinfo: 'text',
        }];

        const clusterLayout = {
            autosize: true,
            margin: { l: 50, r: 50, t: 50, b: 100 },
            title: 'Clusters of Participant Responses',
            xaxis: { title: 'Dimension 1', tickfont: { color: '#FFFFFF' }, titlefont: { color: '#FFFFFF' } },
            yaxis: { title: 'Dimension 2', tickfont: { color: '#FFFFFF' }, titlefont: { color: '#FFFFFF' } },
            paper_bgcolor: 'transparent',
            plot_bgcolor: 'transparent',
            font: { color: '#FFFFFF' },
            titlefont: { color: '#FFFFFF' }
        };

        Plotly.newPlot('cluster-map', clusterData, clusterLayout, {
            responsive: true,
            displayModeBar: false
        });

        // Test Sentiment Timeline
        const sentimentData = [{
            x: ['2025-07-11 20:58:27', '2025-07-11 20:58:28', '2025-07-11 20:58:29', '2025-07-11 20:58:30'],
            y: [1, -1, -1, 0],
            text: ['Positive', 'Negative', 'Negative', 'Neutral'],
            mode: 'lines+markers',
            type: 'scatter',
            marker: { size: 10, color: '#4a90e2' },
            line: { shape: 'linear', color: '#4a90e2' },
        }];

        const sentimentLayout = {
            autosize: true,
            margin: { l: 50, r: 50, t: 50, b: 50 },
            title: 'Sentiment Over Time',
            xaxis: { title: 'Time', tickfont: { color: '#FFFFFF' }, titlefont: { color: '#FFFFFF' } },
            yaxis: {
                title: 'Sentiment',
                tickvals: [-1, 0, 1],
                ticktext: ['Negative', 'Neutral', 'Positive'],
                tickfont: { color: '#FFFFFF' },
                titlefont: { color: '#FFFFFF' }
            },
            paper_bgcolor: 'transparent',
            plot_bgcolor: 'transparent',
            font: { color: '#FFFFFF' },
            titlefont: { color: '#FFFFFF' }
        };

        Plotly.newPlot('sentiment-timeline', sentimentData, sentimentLayout, {
            responsive: true,
            displayModeBar: false
        });
    </script>
</body>
</html> 